<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Ball</title>
    <link rel="stylesheet" href="../static/css/style.css">
</head>

<body>
    <h1>Data Ball</h1>

    <nav>
        <a href="/">Home</a> | <a href="/seasons">Seasons</a> | <a href="/players">Players</a> | <a href="/teams">Teams</a> | <a href="/games">Games</a> | <a href="/player_stats_per_game">Player Stats Per Game</a> | <a href="/player_stats_per_season">Player Stats Per Season</a> | <a href="/team_stats_per_season">Team Stats Per Season</a>
    </nav>
    
    <h2>Player Stats Per Game</h2>

    <!-- Form to update a player's stats per game -->
    <div id="form-container">
        <form method="POST" action="/player_stats_per_game" id="update-player-stats-per-game">
            <legend><strong>Update Player Stats Per Game</strong></legend>
            <label for="update_player_id">Player: </label>
            <select name="player_id" id="update_player_id" required>
                <option disabled selected value>Player to Update</option>
                <!-- Iterate through each dictionary in the player_data -->
                {% for dict in player_data %}
                <!-- This maps player_id to the name displayed in the drop down. The value sent back is player_id -->
                <option value="{{ dict['player_id'] }}" 
                        {% if dict['player_id'] == selected_player_data[0]['player_id'] %}
                            selected
                        {% endif %}>
                            {{ dict['name'] }} (id: {{ dict['player_id'] }})
                </option>

                {% endfor %}
            </select>
            <br>
            <label for="update_game_id">Game Date: </label>
            <select name="game_id" id="update_game_id" required>
                <option disabled selected value>Game Date to Update</option>
                <!-- Iterate through each dictionary in the game_data -->
                {% for dict in game_data %}
                <!-- This maps game_id to the name displayed in the drop down. The value sent back is player_id -->
                <option value="{{ dict['game_id'] }}"
                        {% if dict['game_id'] == selected_player_data[0]['game_id'] %}
                            selected
                        {% endif %}>
                        {{ dict['game_date'] }} (id: {{ dict['game_id'] }})</option>
                {% endfor %}
            </select>
            <br>
            <label for="update_minutes_per_game">Minutes Per Game: </label>
            <input id="update_minutes_per_game" type="number" name="minutes_per_game"  value="{{ selected_player_data[0]['minutes_per_game'] }}" step="0.01" min="0" required>
            <br>
            <label for="update_field_goal_percentage">Field Goal Percentage: </label>
            <input id="update_field_goal_percentage" type="number" name="field_goal_percentage" value="{{ selected_player_data[0]['field_goal_percentage'] }}" step="0.01" min="0" required>
            <br>
            <label for="update_three_point_percentage">Three Point Percentage: </label>
            <input id="update_three_point_percentage" type="number" name="three_point_percentage" value="{{ selected_player_data[0]['three_point_percentage'] }}" step="0.01" min="0" required>
            <br>
            <label for="update_two_point_percentage">Two Point Percentage: </label>
            <input id="update_two_point_percentage" type="number" name="two_point_percentage" value="{{ selected_player_data[0]['two_point_percentage'] }}" step="0.01" min="0" required>
            <br>
            <label for="update_free_throw_percentage">Free Throw Percentage: </label>
            <input id="update_free_throw_percentage" type="number" name="free_throw_percentage" value="{{ selected_player_data[0]['free_throw_percentage'] }}" step="0.01" min="0" required>
            <br>
            <label for="update_rebounds">Rebound Count: </label>
            <input id="update_rebounds" value="{{ selected_player_data[0]['rebound_count'] }}" min="0" type="number" name="rebounds"  required>
            <br>
            <label for="update_assists">Assist Count: </label>
            <input id="update_assists" min="0" value="{{ selected_player_data[0]['assist_count'] }}" type="number" name="assists"  required>
            <br>
            <label for="update_steals">Steal Count: </label>
            <input id="update_steals" min="0" value="{{ selected_player_data[0]['steal_count'] }}" type="number" name="steals" required>
            <br>
            <label for="update_blocks">Block Count: </label>
            <input id="update_blocks" min="0" value="{{ selected_player_data[0]['block_count'] }}" type="number" name="blocks"  required>
            <br>
            <label for="update_win">Win: </label>
            <input id="update_win" value="{{ selected_player_data[0]['win'] }}" type="number" name="win"  required>
            <br>
            <input type="submit" value="Update Player Stats" name="Update_Player_Stats" class="btn"">
        </form>
    </div>
</body>
</html>